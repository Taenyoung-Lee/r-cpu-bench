# CPU Benchmark for R (cpubenchmark.r)

간단한 **CPU 벤치마크 도구**입니다.\
**Base R**만 사용하며, Windows / Linux / macOS / WSL 환경에서 공통적으로
작동합니다.

------------------------------------------------------------------------

## 주요 기능

-   **행렬 연산 벤치마크** (LU/Cholesky)로 CPU 성능 비교
-   **멀티스레드 ON/OFF**를 인터랙티브하게 선택 가능
-   환경 정보(BLAS, LAPACK, 코어 수 등) 자동 기록
-   CSV 파일로 결과 자동 저장

------------------------------------------------------------------------

## 사용 방법

### 1. R에서 실행

``` r
source("cpubenchmark.r")
```

-   실행 시 `Use multithreading? (y/n, default: y)` 메시지가 뜨며 선택
    가능
-   벤치마크 결과는 콘솔에 출력되고 CSV 파일로 저장됩니다.

### 2. 터미널(Rscript)에서 실행

``` bash
Rscript cpubenchmark.r
```

-   이 경우 멀티스레드 **ON**이 기본값으로 사용됩니다.

------------------------------------------------------------------------

## 결과 예시

  ----------------------------------------------------------------------------------
  timestamp           threads_mode   n      method   time_median_s   gflops_median
  ------------------- -------------- ------ -------- --------------- ---------------
  2025-08-27_153500   multi          512    solve    0.023           1.25

  2025-08-27_153500   multi          1024   chol     0.045           2.70
  ----------------------------------------------------------------------------------

------------------------------------------------------------------------

## 참고

-   결과는 사용 중인 BLAS/LAPACK 라이브러리에 따라 달라집니다(OpenBLAS,
    MKL 등).
-   `.BENCH_SIZES`, `.BENCH_REPS` 등 상단 변수로 테스트 크기와 반복
    횟수를 조정할 수 있습니다.
-   Windows WSL 환경에서도 동일하게 동작합니다.

------------------------------------------------------------------------

## 라이선스

MIT License (원하는 대로 사용 가능, 단 책임은 사용자 본인에게 있습니다.)
